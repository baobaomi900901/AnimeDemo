<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../dist/output.css" />
    <title>Canvas</title>
    <style>
      canvas {
        margin: 0 auto;
        border: 1px solid #fff;
        display: block;
      }
    </style>
  </head>
  <body class="bg-slate-700 w-screen h-screen">
    <canvas id="canvas"></canvas>
    <script>
      let canvas = document.querySelector("#canvas");
      canvas.width = 500;
      canvas.height = 500;

      // 获取上下文对象
      let ctx = canvas.getContext("2d");

      ctx.beginPath();
      //  TODO: 绘制圆形
      // arc(x, y, radius, startAngle, endAngle, anticlockwise);
      // 圆心坐标：x, y, 半径：radius, 起始角度：startAngle, 结束角度：endAngle, 顺时针：false
      // 起始角度,结束角度 t-1.5PI, r-0PI , b-0.5PI, l-1PI

      let newArc = {
        circleX: 290,
        circleY: 200,
        radius: 100,
        startAngle: 0,
        endAngle: Math.PI * (180 / 180),
        // 中心点偏移
        rectCenterPoint: function (params) {
          return {
            x: this.radius + this.radius,
            y: this.radius + this.radius,
          };
        },
      };

      ctx.translate(newArc.rectCenterPoint().x, newArc.rectCenterPoint().y); // 矫正角度
      ctx.rotate((180 * Math.PI) / 180); // 旋转
      ctx.translate(-newArc.rectCenterPoint().x, -newArc.rectCenterPoint().y); // 回归矫正角度

      ctx.arc(
        newArc.circleX,
        newArc.circleY,
        newArc.radius,
        newArc.startAngle,
        newArc.endAngle,
        false
      );

      // ctx.fillStyle = "blue";
      // ctx.fill(); // 填充
      ctx.strokeStyle = "red";
      ctx.lineWidth = 1;
      ctx.stroke(); // 描边

      ctx.beginPath();
      let newArc2 = {
        circleX: 10,
        circleY: 200,
        radius: 100,
        startAngle: 0,
        endAngle: Math.PI * (180 / 180),
        // 中心点偏移
        rectCenterPoint: function (params) {
          return {
            x: this.radius + this.radius,
            y: this.radius + this.radius,
          };
        },
      };

      ctx.arc(
        newArc2.circleX,
        newArc2.circleY,
        newArc2.radius,
        newArc2.startAngle,
        newArc2.endAngle,
        true
      );

      ctx.strokeStyle = "blue";
      ctx.lineWidth = 1;
      ctx.stroke(); // 描边

      // for (i = 0; i < 4; i++) {
      //   for (j = 0; j < 3; j++) {
      //     ctx.beginPath();
      //     var x = 25 + j * 50; // x coordinate
      //     var y = 25 + i * 50; // y coordinate
      //     var radius = 20; // Arc radius
      //     var startAngle = 0; // Starting point on circle
      //     var endAngle = Math.PI + (Math.PI * j) / 2; // End point on circle
      //     var clockwise = i % 2 == 0 ? false : true; // clockwise or anticlockwise

      //     ctx.arc(x, y, radius, startAngle, endAngle, clockwise);

      //     if (i > 1) {
      //       ctx.fill();
      //     } else {
      //       ctx.stroke();
      //     }
      //   }
      // }

      // 旋转
      //   var x = 100,
      //     y = 100,
      //     width = 150,
      //     height = 150,
      //     angle = 45,
      //     rectCenterPoint = { x: x + width / 2, y: y + height / 2 }; // 矩形中心点

      //   // 旋转前(红色矩形)
      //   ctx.fillStyle = "#f00";
      //   ctx.fillRect(x, y, width, height);

      //   // 旋转后(绿色矩形)
      //   ctx.translate(rectCenterPoint.x, rectCenterPoint.y);
      //   ctx.rotate((angle * Math.PI) / 180);
      //   ctx.translate(-rectCenterPoint.x, -rectCenterPoint.y);
      //   ctx.fillStyle = "#690";
      //   ctx.fillRect(x, y, width, height);
      //
    </script>
  </body>
</html>
